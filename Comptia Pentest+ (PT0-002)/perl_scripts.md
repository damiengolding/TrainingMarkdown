# Perl scripts

## Script structure
Header:

    #!/bin/perl
    #!/usr/bin/env perl

Comment (no multi-line comment):

    # To end of line

## Variables
- Type is inferred,  no explicit typing required

Declare:

    $VariableName=VariableValue;
    $UserName="Gandalf";
    $UserName

Constants:

    use constant $VariableName => VariableValue;
    use constant PI => 3.14159;

Arrays:

    Blank array: @tempArray = ();
    Initialise with contents: @tempArray = (value1,value2,value3);
    Access: $tempArray[n]

Named/associative arrays:

    Blank array: %PhoneBook = ();
    Initialise with contents: %PhoneBook = ("Frodo","01234 567890","Gandalf","98765 432109");
    Insert/modify: $PhoneBook{"Bilbo"} = "43210 654789";
    Access: $number = $PhoneBook{"Bilbo"}

## Comparison operators
Numeric (similar to C or C++):

    Is equal: a == b
    Is not equal: a != b
    etc

String comparisons (use text-based versions):

    Is equal: a -eq b
    Is not equal: a -ne b
    etc

## Control constructs [See here for discussion of post- versus pre-increment in perl](https://www.alphacodingskills.com/perl/notes/perl-operator-increment.php)
### if/if else
    if(condition){
    	# commands
    }
    elsif(condition2){ # sic. elsif
    	# commands2
    }
    else{
    	# All else has failed
    }

### for
    for($i=1;$i < 10; +$i=$i+1){
    	printf("$i");
    }
    printf("Finished");

### while
    $a = 1
    while($a < 10){
    	printf("$a");
    	$a=$a+1;
    }
    printf("Finished");

### until do
    $a = 1
    until($a > 10){
    	printf("$a");
    	$a=$a+1;
    }
    printf("Finished");

### String operations
String manipulation:

    $testString = "Hello world!"
    Concatentation: printf(testString,2) - (outputs "testString2")
    Substring: printf(substr($testString,1)) - (outputs "e")
	Substring: printf(substr($testString,1,6)) - (outputs "ello w")

### Functions
Declare:

    sub my_function(arg1){
    	my ret = arg1 % 2; # my means local scope, should also declare use strict; and use warnings;
    	return(ret);
    }

Call:

    $myRet = my_function(100)
	if( myRet == 0){
		printf("Is an even number");
	}
	else{
		printf("Is an odd number");
	}

### I/O
Console write/read:

    printf("Enter your user name:");
    $userName = <STDIN>;
    printf("You entered: $userName");

File I/O:

    Read: open(DATA1, "<read.txt");
    Write: open(DATA2,">write.txt"); (clobber)
    Write: open(DATA3,">>writea.txt"); (append)
    Print:
    while(<DATA1>){
    	printf("$_");
    }
    close(DATA1);
    close(DATA2);
    close(DATA3);

## Miscellaneous